<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Model Showcase</title>
    <link rel="stylesheet" href="style.css">
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>3D Model Showcase</h1>

        <div class="controls">
            <label for="modelSelect">Select Model:</label>
            <select id="modelSelect"></select>
            <button id="nightModeToggle">Toggle Night Mode</button>
        </div>

        <div class="viewer-container">
            <model-viewer id="mainViewer"
                src="models/BLACKSofa.glb" camera-controls touch-action="pan-y"
                alt="3D model"
                shadow-intensity="1"
                environment-image="neutral"
                exposure="1"
                ar ar-modes="webxr scene-viewer quick-look" ar-scale="fixed"
                ar-placement="floor"
                camera-orbit="0deg 75deg 105%" field-of-view="30deg"
                disable-zoom auto-rotate> <div slot="progress-bar" class="loading-overlay" id="loadingOverlay">
                    <div class="spinner"></div>
                    <p>Loading Model...</p>
                </div>
            </model-viewer>

            <div class="buttons-row">
                <button id="filterPopupBtn" class="control-button">
                    <img src="https://fonts.gstatic.com/s/materialicons/v140/24px.svg" alt="Filter">
                </button>
                <button id="arBtn" class="control-button">AR</button>
                <button id="resetViewBtn" class="control-button">Reset View</button>
            </div>
        </div>

        <div id="filterControls" class="filter-controls">
            <h2>Adjust Filters</h2>
            <div class="filter-group">
                <label for="brightnessRange">Brightness:</label>
                <input type="range" id="brightnessRange" min="0" max="2" step="0.01" value="1">
                <span id="brightnessValue">1.00</span>
            </div>
            <div class="filter-group">
                <label for="contrastRange">Contrast:</label>
                <input type="range" id="contrastRange" min="0" max="2" step="0.01" value="1">
                <span id="contrastValue">1.00</span>
            </div>
            <button id="closeFilterBtn">Close Filters</button>
        </div>
    </div>

    <div id="arDialog" class="ar-dialog">
        <div class="ar-dialog-content">
            <h2>Scan to View in AR</h2>
            <canvas id="qrCanvas"></canvas>
            <p>Ensure you have Google Play Services for AR (ARCore) on Android, or View in Safari on iOS.</p>
            <button id="closeArDialogBtn">Close</button>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/qrious@4.0.2/dist/qrious.min.js"></script>
    
    <script src="script.js"></script>
</body>
</html>
